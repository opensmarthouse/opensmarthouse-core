<?xml version="1.0" encoding="UTF-8"?>
<!--

	Copyright (c) 2019-2020 Contributors to the OpenSmartHouse project

    See the NOTICE file(s) distributed with this work for additional
    information.

    This program and the accompanying materials are made available under the
    terms of the Eclipse Public License 2.0 which is available at
    http://www.eclipse.org/legal/epl-2.0

    SPDX-License-Identifier: EPL-2.0

-->
<features name="${project.artifactId}-${project.version}" xmlns="http://karaf.apache.org/xmlns/features/v1.3.0">

    <repository>mvn:org.opensmarthouse.core.features.karaf/org.opensmarthouse.core.features.karaf.opensmarthouse-tp/${project.version}/xml/features</repository>

    <feature name="opensmarthouse-core-base" description="Open SmartHouse Core" version="${project.version}">
        <details>Open SmartHouse Core Bundles</details>

        <requirement>opensmarthouse-tp;filter:="(feature=base)"</requirement>
        <feature dependency="true">opensmarthouse-tp-base</feature>
        <feature dependency="true">opensmarthouse-tp-gson</feature>

        <requirement>opensmarthouse-tp;filter:="(&amp;(feature=xtext)(version&gt;=2.22.0)(!(version&gt;=2.23.0)))"</requirement>
        <feature dependency="true">opensmarthouse-tp-xtext</feature>

        <requirement>opensmarthouse-tp;filter:="(feature=jax-rs)"</requirement>
        <feature dependency="true">opensmarthouse-tp-jax-rs</feature>

        <requirement>opensmarthouse-tp;filter:="(feature=httpclient)"</requirement>
        <feature dependency="true">opensmarthouse-tp-httpclient</feature>

        <feature>opensmarthouse-core-config-core</feature>
        <feature>opensmarthouse-core-config-discovery</feature>
        <feature>opensmarthouse-core-config-dispatch</feature>
        <feature>opensmarthouse-core-config-xml</feature>

        <!-- core -->
        <feature>opensmarthouse-core-common</feature>
        <feature>opensmarthouse-core-service</feature>
        <feature>opensmarthouse-core-event-core</feature>
        <feature>opensmarthouse-core-storage</feature>

        <feature>opensmarthouse-core-id</feature>
        <feature>opensmarthouse-core-persistence</feature>
        <feature>opensmarthouse-core-semantics</feature>
        <feature>opensmarthouse-core-scheduler</feature>
        <feature>opensmarthouse-core-binding-xml</feature>

        <feature>opensmarthouse-core-thing</feature>
        <feature>opensmarthouse-core-thing-xml</feature>
        <feature>opensmarthouse-core-transform</feature>
        <feature>opensmarthouse-core-audio</feature>
        <feature>opensmarthouse-core-voice</feature>
        <feature>opensmarthouse-core-io-console</feature>
        <feature>opensmarthouse-core-io-monitor</feature>
        <feature>opensmarthouse-core-io-net</feature>
        <feature dependency="true">pax-http-whiteboard</feature>

        <feature>opensmarthouse-core-io-rest-audio</feature>
        <feature>opensmarthouse-core-io-rest-binding</feature>
        <feature>opensmarthouse-core-io-rest-channel</feature>
        <feature>opensmarthouse-core-io-rest-config</feature>
        <feature>opensmarthouse-core-io-rest-discovery</feature>
        <feature>opensmarthouse-core-io-rest-extension</feature>
        <feature>opensmarthouse-core-io-rest-id</feature>
        <feature>opensmarthouse-core-io-rest-item</feature>
        <feature>opensmarthouse-core-io-rest-log</feature>
        <feature>opensmarthouse-core-io-rest-persistence</feature>
        <feature>opensmarthouse-core-io-rest-service</feature>
        <feature>opensmarthouse-core-io-rest-sitemap</feature>
        <feature>opensmarthouse-core-io-rest-sse</feature>
        <feature>opensmarthouse-core-io-rest-swagger</feature>
        <feature>opensmarthouse-core-io-rest-thing</feature>
        <feature>opensmarthouse-core-io-rest-ui</feature>

        <feature>opensmarthouse-core-service-core</feature>
        <feature>opensmarthouse-core-auth-core</feature>
        <feature>opensmarthouse-core-audio-core</feature>
        <feature>opensmarthouse-core-i18n-core</feature>
        <feature>opensmarthouse-core-scheduler-core</feature>
        <feature>opensmarthouse-core-type-core</feature>
        <feature>opensmarthouse-core-item-core</feature>
        <feature>opensmarthouse-core-voice-core</feature>

        <feature>opensmarthouse-core-ui-all</feature>

        <feature>opensmarthouse-core-io-console-karaf</feature>
        <!--
        <bundle>mvn:org.opensmarthouse.core.bundles/org.opensmarthouse.core.io.http/${project.version}</bundle>
        <bundle>mvn:org.opensmarthouse.core.bundles/org.opensmarthouse.core.io.rest/${project.version}</bundle>
        <bundle>mvn:org.opensmarthouse.core.bundles/org.opensmarthouse.core.io.rest.optimize/${project.version}</bundle>
        <bundle>mvn:org.opensmarthouse.core.bundles/org.opensmarthouse.core.io.rest.core/${project.version}</bundle>
        <bundle>mvn:org.opensmarthouse.core.bundles/org.opensmarthouse.core.io.rest.sse/${project.version}</bundle>
        -->
    </feature>

    <feature name="openhab-core-base">
        <feature>opensmarthouse-core-base</feature>
    </feature>

    <feature name="opensmarthouse-core-transform" description="Open SmartHouse Core: Transform" version="${project.version}">
        <feature>opensmarthouse-core</feature>
        <feature>opensmarthouse-core-net</feature>
        <feature>opensmarthouse-core-i18n</feature>
        <feature>opensmarthouse-core-registry</feature>
        <feature>opensmarthouse-core-config-core</feature>
        <bundle>mvn:org.opensmarthouse.core.bundles/org.opensmarthouse.core.transform/${project.version}</bundle>
    </feature>

    <feature name="opensmarthouse-core-type" description="Open SmartHouse Core: Type" version="${project.version}">
        <bundle>mvn:org.opensmarthouse.core.bundles/org.opensmarthouse.core.type/${project.version}</bundle>
    </feature>

    <feature name="opensmarthouse-core-item" description="Open SmartHouse Core: Item" version="${project.version}">
        <feature dependency="true">opensmarthouse-tp-gson</feature>
        <feature>opensmarthouse-core-common</feature>
        <feature>opensmarthouse-core-registry</feature>
        <feature>opensmarthouse-core-i18n</feature>
        <feature>opensmarthouse-core-service</feature>
        <bundle>mvn:org.opensmarthouse.core.bundles/org.opensmarthouse.core.item/${project.version}</bundle>
    </feature>

    <feature name="opensmarthouse-core-i18n" description="Open SmartHouse Core: i18n" version="${project.version}">
        <feature dependency="true">opensmarthouse-tp-unit-of-measurement</feature>
        <feature>opensmarthouse-core-type</feature>
        <feature>opensmarthouse-core-library-type</feature>
        <bundle>mvn:org.opensmarthouse.core.bundles/org.opensmarthouse.core.i18n/${project.version}</bundle>
    </feature>

    <feature name="opensmarthouse-core-i18n-core" description="Open SmartHouse Core: i18n Core" version="${project.version}">
        <feature>opensmarthouse-core-i18n</feature>
        <feature>opensmarthouse-core-common</feature>
        <bundle>mvn:org.opensmarthouse.core.bundles/org.opensmarthouse.core.i18n.core/${project.version}</bundle>
    </feature>

    <feature name="opensmarthouse-core-library-unit" description="Open SmartHouse Core: Unit Library" version="${project.version}">
        <feature dependency="true">opensmarthouse-tp-unit-of-measurement</feature>
        <feature>opensmarthouse-core-i18n</feature>
        <bundle>mvn:org.opensmarthouse.core.bundles/org.opensmarthouse.core.library.dimension/${project.version}</bundle>
        <bundle>mvn:org.opensmarthouse.core.bundles/org.opensmarthouse.core.library.unit/${project.version}</bundle>
    </feature>

    <feature name="opensmarthouse-core-library-item" description="Open SmartHouse Core: Item Library" version="${project.version}">
        <feature>opensmarthouse-core-item</feature>
        <bundle>mvn:org.opensmarthouse.core.bundles/org.opensmarthouse.core.library.item/${project.version}</bundle>
    </feature>

    <feature name="opensmarthouse-core-library-type" description="Open SmartHouse Core: Type Library" version="${project.version}">
        <feature>opensmarthouse-core-library-unit</feature>
        <bundle>mvn:org.opensmarthouse.core.bundles/org.opensmarthouse.core.library.type/${project.version}</bundle>
    </feature>

    <feature name="opensmarthouse-core-io-net" description="Open SmartHouse Core: IO HTTP Client" version="${project.version}">
        <feature dependency="true">opensmarthouse-tp-http</feature>
        <feature dependency="true">pax-http-whiteboard</feature>
        <feature>opensmarthouse-core-library-type</feature>
        <feature>opensmarthouse-core-common</feature>

        <bundle>mvn:org.opensmarthouse.core.bundles/org.opensmarthouse.core.io.net/${project.version}</bundle>
    </feature>

    <feature name="opensmarthouse-core-net" description="Open SmartHouse Core: Net Util" version="${project.version}">
        <feature>opensmarthouse-core-common</feature>
        <bundle>mvn:org.opensmarthouse.core.bundles/org.opensmarthouse.core.net/${project.version}</bundle>
    </feature>

    <feature name="opensmarthouse-core-voice" description="Open SmartHouse Core: Voice" version="${project.version}">
        <feature>opensmarthouse-core-audio</feature>
        <feature>opensmarthouse-core-item</feature>
        <feature>opensmarthouse-core-registry</feature>
        <bundle>mvn:org.opensmarthouse.core.bundles/org.opensmarthouse.core.voice/${project.version}</bundle>
    </feature>

    <feature name="opensmarthouse-core-voice-core" description="Open SmartHouse Core: Voice Core" version="${project.version}">
        <feature>opensmarthouse-core-voice</feature>
        <feature>opensmarthouse-core-net</feature>
        <feature>opensmarthouse-core-config-core</feature>
        <feature>opensmarthouse-core-io-console</feature>
        <bundle>mvn:org.opensmarthouse.core.bundles/org.opensmarthouse.core.voice.core/${project.version}</bundle>
        <config name="org.opensmarthouse.core.voice">
            defaultHLI = rulehli
        </config>
    </feature>

    <feature name="opensmarthouse-core-audio" description="Open SmartHouse Core: Audio" version="${project.version}">
        <feature dependency="true">opensmarthouse-tp-javazoom</feature>
        <feature>opensmarthouse-core-config-core</feature>
        <feature>opensmarthouse-core-io-console</feature>
        <feature>opensmarthouse-core-io-http</feature>
        <bundle>mvn:org.opensmarthouse.core.bundles/org.opensmarthouse.core.audio/${project.version}</bundle>
    </feature>

    <feature name="opensmarthouse-core-audio-core" description="Open SmartHouse Core: Audio Core" version="${project.version}">
        <feature dependency="true">http</feature>
        <feature>opensmarthouse-core</feature>
        <feature>opensmarthouse-core-audio</feature>
        <feature>opensmarthouse-core-net</feature>
        <feature>opensmarthouse-core-config-core</feature>
        <feature>opensmarthouse-core-io-console</feature>
        <feature>opensmarthouse-core-io-http</feature>
        <bundle>mvn:org.opensmarthouse.core.bundles/org.opensmarthouse.core.audio.core/${project.version}</bundle>
        <config name="org.opensmarthouse.core.audio">
            defaultSink = enhancedjavasound
        </config>
    </feature>

    <feature name="opensmarthouse-core-common" description="Open SmartHouse Core: Common services" version="${project.version}">
        <feature dependency="true">opensmarthouse-tp-scr</feature>
        <bundle>mvn:org.opensmarthouse.core.bundles/org.opensmarthouse.core.common/${project.version}</bundle>
    </feature>

    <feature name="opensmarthouse-core-service" description="Open SmartHouse Core: Service" version="${project.version}">
        <feature>opensmarthouse-core-common</feature>
        <feature>opensmarthouse-core-type</feature>
        <bundle>mvn:org.opensmarthouse.core.bundles/org.opensmarthouse.core.service/${project.version}</bundle>
    </feature>

    <feature name="opensmarthouse-core-service-core" description="Open SmartHouse Core: Service Core" version="${project.version}">
        <feature>opensmarthouse-core-service</feature>
        <bundle>mvn:org.opensmarthouse.core.bundles/org.opensmarthouse.core.service.core/${project.version}</bundle>
    </feature>

    <feature name="opensmarthouse-core-event" description="Open SmartHouse Core: Event API" version="${project.version}">
        <feature dependency="true">opensmarthouse-tp-gson</feature>
        <bundle>mvn:org.opensmarthouse.core.bundles/org.opensmarthouse.core.event/${project.version}</bundle>
    </feature>

    <feature name="opensmarthouse-core-event-core" description="Open SmartHouse Core: Event Service" version="${project.version}">
        <feature dependency="true">opensmarthouse-tp-event</feature>
        <feature>opensmarthouse-core-event</feature>
        <feature>opensmarthouse-core-common</feature>
        <bundle>mvn:org.opensmarthouse.core.bundles/org.opensmarthouse.core.event.core/${project.version}</bundle>
    </feature>

    <feature name="opensmarthouse-core-storage" description="Open SmartHouse Core: Storage API" version="${project.version}">
        <bundle>mvn:org.opensmarthouse.core.bundles/org.opensmarthouse.core.storage/${project.version}</bundle>
    </feature>

    <feature name="opensmarthouse-core-registry" description="Open SmartHouse Core: Registry API and base types" version="${project.version}">
        <feature>opensmarthouse-core-event</feature>
        <feature>opensmarthouse-core-storage</feature>
        <bundle>mvn:org.opensmarthouse.core.bundles/org.opensmarthouse.core.registry/${project.version}</bundle>
    </feature>

    <feature name="opensmarthouse-core-auth" description="Open SmartHouse Core: Auth API" version="${project.version}">
        <feature>opensmarthouse-core-registry</feature>
        <bundle>mvn:org.opensmarthouse.core.bundles/org.opensmarthouse.core.auth/${project.version}</bundle>
    </feature>

    <feature name="opensmarthouse-core-auth-core" description="Open SmartHouse Core: Auth Provider" version="${project.version}">
        <feature>opensmarthouse-core-auth</feature>
        <feature>opensmarthouse-core-storage</feature>
        <bundle>mvn:org.opensmarthouse.core.bundles/org.opensmarthouse.core.auth.core/${project.version}</bundle>
    </feature>

    <feature name="opensmarthouse-core-auth-jaas" version="${project.version}">
        <feature>opensmarthouse-core-auth</feature>
        <bundle>mvn:org.opensmarthouse.core.bundles/org.opensmarthouse.core.auth.jaas/${project.version}</bundle>
    </feature>

    <feature name="opensmarthouse-core-auth-oauth2client" version="${project.version}">
        <bundle>mvn:org.opensmarthouse.core.bundles/org.opensmarthouse.core.auth.oauth2client/${project.version}</bundle>
    </feature>

    <feature name="opensmarthouse-core-auth-oauth2client-core" version="${project.version}">
        <feature dependency="true">opensmarthouse-tp-gson</feature>
        <feature dependency="true">opensmarthouse-tp-httpclient</feature>
        <feature>opensmarthouse-core-io-net</feature>
        <feature>opensmarthouse-core-auth-oauth2client</feature>
        <feature>opensmarthouse-core-storage</feature>
        <bundle>mvn:org.opensmarthouse.core.bundles/org.opensmarthouse.core.auth.oauth2client.core/${project.version}</bundle>
    </feature>

    <feature name="opensmarthouse-core-automation" version="${project.version}">
        <feature dependency="true">opensmarthouse-tp-gson</feature>
        <feature>opensmarthouse-core</feature>
        <feature>opensmarthouse-core-io-console</feature>
        <feature>opensmarthouse-core-net</feature>
        <feature>opensmarthouse-core-config-core</feature>
        <feature>opensmarthouse-core-registry</feature>
        <feature>opensmarthouse-core-ephemeris</feature>
        <feature>opensmarthouse-core-event-core</feature>
        <bundle>mvn:org.opensmarthouse.core.bundles/org.opensmarthouse.core.automation/${project.version}</bundle>
    </feature>

    <feature name="opensmarthouse-core-automation-module-script" version="${project.version}">
        <feature>opensmarthouse-core-base</feature>
        <feature dependency="true">opensmarthouse-core-automation</feature>
        <bundle>mvn:org.opensmarthouse.core.bundles/org.opensmarthouse.core.automation.module.script/${project.version}</bundle>
    </feature>

    <feature name="opensmarthouse-core-automation-module-script-rulesupport" version="${project.version}">
        <feature>opensmarthouse-core-base</feature>
        <feature dependency="true">opensmarthouse-core-automation</feature>
        <feature dependency="true">opensmarthouse-core-automation-module-script</feature>
        <bundle>mvn:org.opensmarthouse.core.bundles/org.opensmarthouse.core.automation.module.script.rulesupport/${project.version}</bundle>
    </feature>

    <feature name="opensmarthouse-core-automation-module-media" version="${project.version}">
        <feature>opensmarthouse-core-base</feature>
        <feature dependency="true">opensmarthouse-core-automation</feature>
        <feature dependency="true">opensmarthouse-core-automation-module-script</feature>
        <feature dependency="true">opensmarthouse-core-audio</feature>
        <feature dependency="true">opensmarthouse-core-voice</feature>
        <bundle>mvn:org.opensmarthouse.core.bundles/org.opensmarthouse.core.automation.module.media/${project.version}</bundle>
    </feature>

    <feature name="opensmarthouse-core-io-rest" version="${project.version}">
        <feature>opensmarthouse-core</feature>
        <feature>opensmarthouse-tp-jax-rs</feature>
        <feature>opensmarthouse-tp-gson</feature>
        <feature>opensmarthouse-core-i18n</feature>
        <feature>opensmarthouse-tp-jax-rs-whiteboard</feature>
        <bundle>mvn:org.opensmarthouse.core.bundles/org.opensmarthouse.core.io.rest/${project.version}</bundle>
    </feature>

    <feature name="opensmarthouse-core-io-rest-core" version="${project.version}">
        <details>
            This feature enables REST interface handling in OpenSmartHouse.
        </details>
        <feature>opensmarthouse-core-io-rest</feature>
        <bundle>mvn:org.opensmarthouse.core.bundles/org.opensmarthouse.core.io.rest.core/${project.version}</bundle>
    </feature>

    <feature name="opensmarthouse-core-automation-rest" version="${project.version}">
        <feature dependency="true">opensmarthouse-core-automation</feature>
        <feature dependency="true">opensmarthouse-core-io-rest</feature>
        <bundle>mvn:org.opensmarthouse.core.bundles/org.opensmarthouse.core.automation.rest/${project.version}</bundle>
    </feature>

    <feature name="opensmarthouse-core-config" version="${project.version}">
        <feature>opensmarthouse-tp-gson</feature>
        <feature>opensmarthouse-core-common</feature>
        <feature>opensmarthouse-core-registry</feature>
        <feature>opensmarthouse-core-i18n</feature>
        <bundle>mvn:org.opensmarthouse.core.bundles/org.opensmarthouse.core.config/${project.version}</bundle>
    </feature>

    <feature name="opensmarthouse-core-config-core" version="${project.version}">
        <feature dependency="true">opensmarthouse-tp-gson</feature>
        <feature>opensmarthouse-core-net</feature>
        <feature>opensmarthouse-core-config</feature>
        <bundle>mvn:org.opensmarthouse.core.bundles/org.opensmarthouse.core.config.core/${project.version}</bundle>
    </feature>

    <feature name="opensmarthouse-core-config-xml" version="${project.version}">
        <feature dependency="true">opensmarthouse-tp-xstream</feature>
        <feature>opensmarthouse-core-config</feature>
        <feature>opensmarthouse-core-service</feature>
        <bundle start-level="75">mvn:org.opensmarthouse.core.bundles/org.opensmarthouse.core.config.xml/${project.version}</bundle>
    </feature>

    <feature name="opensmarthouse-core-config-discovery" version="${project.version}">
<!--        <feature>opensmarthouse-core-common</feature>-->
<!--        <feature>opensmarthouse-core-registry</feature>-->
        <feature>opensmarthouse-core-config</feature>
        <feature>opensmarthouse-core-thing</feature>
        <bundle>mvn:org.opensmarthouse.core.bundles/org.opensmarthouse.core.config.discovery/${project.version}</bundle>
        <bundle>mvn:org.opensmarthouse.core.bundles/org.opensmarthouse.core.config.discovery.core/${project.version}</bundle>
    </feature>

    <feature name="opensmarthouse-core-config-dispatch" version="${project.version}">
        <feature dependency="true">opensmarthouse-tp-gson</feature>
        <feature>opensmarthouse-core</feature>
        <feature>opensmarthouse-core-config</feature>
        <feature>opensmarthouse-core-service</feature>
        <bundle>mvn:org.opensmarthouse.core.bundles/org.opensmarthouse.core.config.dispatch/${project.version}</bundle>
    </feature>

    <feature name="opensmarthouse-core-config-serial" version="${project.version}">
        <feature>opensmarthouse-core-config</feature>
        <feature>opensmarthouse-core-io-transport-serial</feature>
        <bundle>mvn:org.opensmarthouse.core.bundles/org.opensmarthouse.core.config.serial/${project.version}</bundle>
    </feature>

    <feature name="opensmarthouse-core-config-discovery-usbserial" version="${project.version}">
        <feature>opensmarthouse-core-common</feature>
        <feature>opensmarthouse-core-config-discovery</feature>
        <bundle>mvn:org.opensmarthouse.core.bundles/org.opensmarthouse.core.config.discovery.usbserial/${project.version}</bundle>
        <bundle>mvn:org.opensmarthouse.core.bundles/org.opensmarthouse.core.config.discovery.usbserial.linuxsysfs/${project.version}</bundle>
    </feature>

    <feature name="opensmarthouse-core-ephemeris" version="${project.version}">
        <feature dependency="true">opensmarthouse-tp-jollyday</feature>
        <feature>opensmarthouse-core-config</feature>
        <feature>opensmarthouse-core-i18n</feature>
        <bundle>mvn:org.opensmarthouse.core.bundles/org.opensmarthouse.core.ephemeris/${project.version}</bundle>
    </feature>

    <feature name="opensmarthouse-core-util" version="${project.version}">
        <bundle>mvn:org.opensmarthouse.core.bundles/org.opensmarthouse.core.util/${project.version}</bundle>
    </feature>

    <feature name="opensmarthouse-core-io-bin2json" description="Binary to JSON converter" version="${project.version}">
        <feature dependency="true">opensmarthouse-tp-gson</feature>
        <feature>opensmarthouse-core-util</feature>
        <bundle>mvn:org.opensmarthouse.core.bundles/org.opensmarthouse.core.io.bin2json/${project.version}</bundle>
        <requirement>opensmarthouse-tp;filter:="(feature=jbbp)"</requirement>
        <feature dependency="true">opensmarthouse-tp-jbbp</feature>
    </feature>

    <feature name="opensmarthouse-core-thing" description="Thing API" version="${project.version}">
        <feature>opensmarthouse-core-common</feature>
        <feature>opensmarthouse-core-registry</feature>
        <feature>opensmarthouse-core-config</feature>
        <feature>opensmarthouse-core-item</feature>
        <feature>opensmarthouse-core-library-item</feature>
        <bundle>mvn:org.opensmarthouse.core.bundles/org.opensmarthouse.core.thing/${project.version}</bundle>
    </feature>

    <feature name="opensmarthouse-core-scheduler" description="Scheduler API" version="${project.version}">
        <feature>opensmarthouse-core-thing</feature>
        <bundle>mvn:org.opensmarthouse.core.bundles/org.opensmarthouse.core.scheduler/${project.version}</bundle>
    </feature>

    <feature name="opensmarthouse-core-scheduler-core" description="Scheduler Core" version="${project.version}">
        <feature>opensmarthouse-core-scheduler</feature>
        <bundle>mvn:org.opensmarthouse.core.bundles/org.opensmarthouse.core.scheduler.core/${project.version}</bundle>
    </feature>

    <feature name="opensmarthouse-core-io-console" description="Console API" version="${project.version}">
        <feature>opensmarthouse-core-item</feature>
        <feature>opensmarthouse-core-scheduler</feature>
        <bundle>mvn:org.opensmarthouse.core.bundles/org.opensmarthouse.core.io.console/${project.version}</bundle>
    </feature>

    <feature name="opensmarthouse-core-io-monitor" version="${project.version}">
        <feature>opensmarthouse-core-event</feature>
        <bundle>mvn:org.opensmarthouse.core.bundles/org.opensmarthouse.core.io.monitor/${project.version}</bundle>
    </feature>

    <feature name="opensmarthouse-core-io-console-karaf" description="Karaf Console support for SmartHome stuff"
        version="${project.version}">
        <feature>opensmarthouse-core-io-console</feature>
        <feature>shell</feature>
        <bundle>mvn:org.opensmarthouse.core.bundles/org.opensmarthouse.core.io.console.karaf/${project.version}</bundle>
    </feature>

    <feature name="opensmarthouse-core-io-http" version="${project.version}">
        <feature dependency="true">http</feature>
        <bundle>mvn:org.opensmarthouse.core.bundles/org.opensmarthouse.core.io.http/${project.version}</bundle>
    </feature>

    <feature name="opensmarthouse-core-io-http-auth" version="${project.version}">
        <feature dependency="true">opensmarthouse-tp-jax-rs</feature>
        <feature>opensmarthouse-core-io-http</feature>
        <feature>opensmarthouse-core-auth-jaas</feature>
        <bundle>mvn:org.opensmarthouse.core.bundles/org.opensmarthouse.core.io.http.auth/${project.version}</bundle>
    </feature>

    <feature name="opensmarthouse-core-io-http-auth-basic" version="${project.version}">
        <feature>opensmarthouse-core-base</feature>
        <bundle>mvn:org.opensmarthouse.core.bundles/org.opensmarthouse.core.io.http.auth.basic/${project.version}</bundle>

        <feature>opensmarthouse-core-io-http-auth</feature>
        <config name="org.opensmarthouse.core.auth">
            enabled = true
        </config>
    </feature>

    <feature name="opensmarthouse-core-io-rest-auth" version="${project.version}">
        <feature>opensmarthouse-core-auth-core</feature>
        <feature>opensmarthouse-core-io-rest</feature>
        <feature>opensmarthouse-core-config</feature>
        <bundle>mvn:org.opensmarthouse.core.bundles/org.opensmarthouse.core.io.rest.auth/${project.version}</bundle>
        <requirement>opensmarthouse-tp;filter:="(feature=jose4j)"</requirement>
        <feature dependency="true">opensmarthouse-tp-jose4j</feature>
    </feature>

    <feature name="opensmarthouse-core-io-rest-log" version="${project.version}">
        <feature>opensmarthouse-core-io-rest</feature>
        <bundle>mvn:org.opensmarthouse.core.bundles/org.opensmarthouse.core.io.rest.log/${project.version}</bundle>
    </feature>

    <feature name="opensmarthouse-core-id" version="${project.version}">
        <feature>opensmarthouse-core</feature>
        <bundle>mvn:org.opensmarthouse.core.bundles/org.opensmarthouse.core.id/${project.version}</bundle>
    </feature>

    <feature name="opensmarthouse-core-io-rest-id" version="${project.version}">
        <feature>opensmarthouse-core-io-rest</feature>
        <feature>opensmarthouse-core-id</feature>
        <bundle>mvn:org.opensmarthouse.core.bundles/org.opensmarthouse.core.io.rest.id/${project.version}</bundle>
    </feature>

    <feature name="opensmarthouse-core-io-rest-item" version="${project.version}">
        <feature>opensmarthouse-core-library-item</feature>
        <feature>opensmarthouse-core-io-rest</feature>
        <feature>opensmarthouse-core-registry</feature>
        <feature>opensmarthouse-core-config</feature>
        <feature>opensmarthouse-core-thing</feature>
        <feature>opensmarthouse-core-transform</feature>
        <bundle>mvn:org.opensmarthouse.core.bundles/org.opensmarthouse.core.io.rest.item/${project.version}</bundle>
    </feature>

    <feature name="opensmarthouse-core-io-rest-sse" version="${project.version}">
        <feature dependency="true">opensmarthouse-tp-javax-inject</feature>
        <feature>opensmarthouse-core-io-rest</feature>
        <feature>opensmarthouse-core-item</feature>
        <feature>opensmarthouse-core-transform</feature>
        <bundle>mvn:org.opensmarthouse.core.bundles/org.opensmarthouse.core.io.rest.sse/${project.version}</bundle>
    </feature>

    <feature name="opensmarthouse-core-io-rest-sitemap" version="${project.version}">
        <feature>opensmarthouse-core-io-rest-core</feature>
        <feature>opensmarthouse-core-io-rest-item</feature>
        <feature>opensmarthouse-core-ui-sitemap</feature>
        <feature>opensmarthouse-core-model-sitemap</feature>
        <bundle>mvn:org.opensmarthouse.core.bundles/org.opensmarthouse.core.io.rest.sitemap/${project.version}</bundle>
    </feature>

    <feature name="opensmarthouse-core-io-rest-audio" version="${project.version}">
        <feature>opensmarthouse-core-io-rest</feature>
        <feature>opensmarthouse-core-audio</feature>
        <bundle>mvn:org.opensmarthouse.core.bundles/org.opensmarthouse.core.io.rest.audio/${project.version}</bundle>
    </feature>

    <feature name="opensmarthouse-core-io-rest-voice" version="${project.version}">
        <feature>opensmarthouse-core-io-rest</feature>
        <feature>opensmarthouse-core-voice</feature>
        <bundle>mvn:org.opensmarthouse.core.bundles/org.opensmarthouse.core.io.rest.voice/${project.version}</bundle>
    </feature>

    <feature name="opensmarthouse-core-io-rest-mdns" version="${project.version}">
        <feature>opensmarthouse-core-io-rest</feature>
        <feature>opensmarthouse-core-config-discovery</feature>
        <feature>opensmarthouse-core-io-transport-mdns</feature>
        <bundle>mvn:org.opensmarthouse.core.bundles/org.opensmarthouse.core.io.rest.mdns/${project.version}</bundle>
    </feature>

    <feature name="opensmarthouse-core-io-transport-coap" version="${project.version}">
        <feature>opensmarthouse-core-base</feature>

        <requirement>opensmarthouse-tp;filter:="(feature=coap)"</requirement>
        <feature dependency="true">opensmarthouse-tp-coap</feature>
    </feature>

    <feature name="opensmarthouse-core-io-transport-http" version="${project.version}">
        <feature>opensmarthouse-core-base</feature>

        <requirement>opensmarthouse-tp;filter:="(feature=httpclient)"</requirement>
        <feature dependency="true">opensmarthouse-tp-httpclient</feature>
    </feature>

    <feature name="opensmarthouse-core-io-transport-mdns" version="${project.version}">
        <feature>opensmarthouse-core-config-discovery</feature>
        <feature>opensmarthouse-core-net</feature>

        <requirement>opensmarthouse-tp;filter:="(feature=jmdns)"</requirement>
        <feature dependency="true">opensmarthouse-tp-jmdns</feature>

        <bundle>mvn:org.opensmarthouse.core.bundles/org.opensmarthouse.core.io.transport.mdns/${project.version}</bundle>
        <bundle>mvn:org.opensmarthouse.core.bundles/org.opensmarthouse.core.config.discovery.mdns/${project.version}</bundle>
    </feature>

    <feature name="opensmarthouse-core-io-transport-mqtt" version="${project.version}">
        <feature>opensmarthouse-core-config</feature>

        <requirement>opensmarthouse-tp;filter:="(feature=hivemqclient)"</requirement>
        <feature dependency="true">opensmarthouse-tp-hivemqclient</feature>

        <bundle>mvn:org.opensmarthouse.core.bundles/org.opensmarthouse.core.io.transport.mqtt/${project.version}</bundle>
    </feature>

    <feature name="opensmarthouse-core-io-transport-serial" version="${project.version}">
        <bundle>mvn:org.opensmarthouse.core.bundles/org.opensmarthouse.core.io.transport.serial/${project.version}</bundle>
    </feature>

    <feature name="opensmarthouse-core-io-transport-serial-console" version="${project.version}">
        <feature>opensmarthouse-core-io-console</feature>
        <feature>opensmarthouse-core-io-transport-serial</feature>
        <bundle>mvn:org.opensmarthouse.core.bundles/org.opensmarthouse.core.io.transport.serial.console/${project.version}</bundle>
    </feature>

    <feature name="opensmarthouse-core-io-transport-serial-javacomm" version="${project.version}">
        <feature>opensmarthouse-tp-serial-javacomm</feature>
        <feature>opensmarthouse-core-io-transport-serial</feature>

        <bundle>mvn:org.opensmarthouse.core.bundles/org.opensmarthouse.core.io.transport.serial.javacomm/${project.version}</bundle>
    </feature>

    <feature name="opensmarthouse-core-io-transport-serial-rxtx" version="${project.version}">
        <feature>opensmarthouse-tp-serial-rxtx</feature>
        <feature>opensmarthouse-core-io-transport-serial</feature>

        <bundle>mvn:org.opensmarthouse.core.bundles/org.opensmarthouse.core.io.transport.serial.rxtx/${project.version}</bundle>
    </feature>

    <feature name="opensmarthouse-core-io-transport-serial-rfc2217" version="${project.version}">
        <feature>opensmarthouse-core-io-transport-serial</feature>
        <feature>opensmarthouse-core-io-transport-serial-rxtx</feature>
        <feature>opensmarthouse-tp-commons-net</feature>

        <bundle>mvn:org.opensmarthouse.core.bundles/org.opensmarthouse.core.io.transport.serial.rxtx.rfc2217/${project.version}</bundle>
    </feature>

    <feature name="opensmarthouse-core-io-transport-upnp" version="${project.version}">
        <feature>opensmarthouse-core-common</feature>
        <feature>opensmarthouse-core-config-discovery</feature>
        <feature>opensmarthouse-core-net</feature>

        <requirement>opensmarthouse-tp;filter:="(feature=jupnp)"</requirement>
        <feature dependency="true">opensmarthouse-tp-jupnp</feature>

        <bundle>mvn:org.opensmarthouse.core.bundles/org.opensmarthouse.core.io.transport.upnp/${project.version}</bundle>
        <bundle>mvn:org.opensmarthouse.core.bundles/org.opensmarthouse.core.config.discovery.upnp/${project.version}</bundle>
    </feature>

    <feature name="opensmarthouse-core-model-core" version="${project.version}">
        <feature dependency="true">opensmarthouse-tp-xtext</feature>
        <feature>opensmarthouse-core</feature>
        <bundle>mvn:org.opensmarthouse.core.bundles/org.opensmarthouse.core.model.core/${project.version}</bundle>
    </feature>

    <feature name="opensmarthouse-core-model-item" version="${project.version}">
        <feature>opensmarthouse-core-library-item</feature>
        <feature>opensmarthouse-core-thing</feature>
        <feature>opensmarthouse-core-model-core</feature>
        <bundle>mvn:org.opensmarthouse.core.bundles/org.opensmarthouse.core.model.item/${project.version}</bundle>
        <bundle>mvn:org.opensmarthouse.core.bundles/org.opensmarthouse.core.model.item.runtime/${project.version}</bundle>
    </feature>

    <feature name="opensmarthouse-core-model-item-ide" version="${project.version}">
        <feature dependency="true">opensmarthouse-core-model-item</feature>

        <requirement>opensmarthouse-tp;filter:="(feature=xtext-ide)"</requirement>
        <feature dependency="true">opensmarthouse-tp-xtext-ide</feature>

        <bundle>mvn:org.opensmarthouse.core.bundles/org.opensmarthouse.core.model.item.ide/${project.version}</bundle>
    </feature>

    <feature name="opensmarthouse-core-persistence" version="${project.version}">
        <feature>opensmarthouse-core-scheduler</feature>
        <bundle>mvn:org.opensmarthouse.core.bundles/org.opensmarthouse.core.persistence/${project.version}</bundle>
    </feature>

    <feature name="opensmarthouse-core-semantics" version="${project.version}">
        <feature>opensmarthouse-core-library-item</feature>
        <bundle>mvn:org.opensmarthouse.core.bundles/org.opensmarthouse.core.semantics/${project.version}</bundle>
    </feature>

    <feature name="opensmarthouse-core-model-persistence" version="${project.version}">
        <feature>opensmarthouse-core-persistence</feature>
        <feature>opensmarthouse-core-model-item</feature>
        <bundle>mvn:org.opensmarthouse.core.bundles/org.opensmarthouse.core.model.persistence/${project.version}</bundle>
        <bundle>mvn:org.opensmarthouse.core.bundles/org.opensmarthouse.core.model.persistence.runtime/${project.version}</bundle>
    </feature>

    <feature name="opensmarthouse-core-model-persistence-ide" version="${project.version}">
        <feature dependency="true">opensmarthouse-core-model-persistence</feature>

        <requirement>opensmarthouse-tp;filter:="(feature=xtext-ide)"</requirement>
        <feature dependency="true">opensmarthouse-tp-xtext-ide</feature>

        <bundle>mvn:org.opensmarthouse.core.bundles/org.opensmarthouse.core.model.persistence.ide/${project.version}</bundle>
    </feature>

    <feature name="opensmarthouse-core-model-rule" version="${project.version}">
        <feature>opensmarthouse-core-base</feature>
        <feature>opensmarthouse-core-model-item</feature>
        <feature>opensmarthouse-core-model-persistence</feature>
        <feature>opensmarthouse-core-model-script</feature>
        <feature>opensmarthouse-core-event-core</feature>
        <feature>opensmarthouse-core-automation</feature>
        <feature>opensmarthouse-core-automation-module-script</feature>
        <bundle>mvn:org.opensmarthouse.core.bundles/org.opensmarthouse.core.model.rule/${project.version}</bundle>
        <bundle>mvn:org.opensmarthouse.core.bundles/org.opensmarthouse.core.model.rule.runtime/${project.version}</bundle>
    </feature>

    <feature name="opensmarthouse-core-model-rule-ide" version="${project.version}">
        <feature dependency="true">opensmarthouse-core-model-rule</feature>

        <requirement>opensmarthouse-tp;filter:="(feature=xtext-ide)"</requirement>
        <feature dependency="true">opensmarthouse-tp-xtext-ide</feature>

        <bundle>mvn:org.opensmarthouse.core.bundles/org.opensmarthouse.core.model.rule.ide/${project.version}</bundle>
    </feature>

    <feature name="opensmarthouse-core-model-script" version="${project.version}">
        <feature>opensmarthouse-core-io-console</feature>
        <feature>opensmarthouse-core-io-net</feature>
        <feature>opensmarthouse-core-audio</feature>
        <feature>opensmarthouse-core-voice</feature>
        <feature>opensmarthouse-core-transform</feature>
        <feature>opensmarthouse-core-ephemeris</feature>
        <feature>opensmarthouse-core-scheduler-core</feature>
        <feature>opensmarthouse-core-model-persistence</feature>
        <feature>opensmarthouse-core-automation-module-script</feature>
        <bundle>mvn:org.opensmarthouse.core.bundles/org.opensmarthouse.core.model.script/${project.version}</bundle>
        <bundle>mvn:org.opensmarthouse.core.bundles/org.opensmarthouse.core.model.script.runtime/${project.version}</bundle>
    </feature>

    <feature name="opensmarthouse-core-model-script-ide" version="${project.version}">
        <feature dependency="true">opensmarthouse-core-model-script</feature>

        <requirement>opensmarthouse-tp;filter:="(feature=xtext-ide)"</requirement>
        <feature dependency="true">opensmarthouse-tp-xtext-ide</feature>

        <bundle>mvn:org.opensmarthouse.core.bundles/org.opensmarthouse.core.model.script.ide/${project.version}</bundle>
    </feature>

    <feature name="opensmarthouse-core-model-sitemap" version="${project.version}">
        <feature>opensmarthouse-core-model-core</feature>
        <feature>opensmarthouse-core-service</feature>
        <feature>opensmarthouse-core-item</feature>
        <bundle>mvn:org.opensmarthouse.core.bundles/org.opensmarthouse.core.model.sitemap/${project.version}</bundle>
        <bundle>mvn:org.opensmarthouse.core.bundles/org.opensmarthouse.core.model.sitemap.runtime/${project.version}</bundle>
    </feature>

    <feature name="opensmarthouse-core-model-sitemap-ide" version="${project.version}">
        <feature dependency="true">opensmarthouse-core-model-sitemap</feature>

        <requirement>opensmarthouse-tp;filter:="(feature=xtext-ide)"</requirement>
        <feature dependency="true">opensmarthouse-tp-xtext-ide</feature>

        <bundle>mvn:org.opensmarthouse.core.bundles/org.opensmarthouse.core.model.sitemap.ide/${project.version}</bundle>
    </feature>

    <feature name="opensmarthouse-core-model-thing" version="${project.version}">
        <feature>opensmarthouse-core-model-item</feature>
        <feature>opensmarthouse-core-util</feature>
        <bundle>mvn:org.opensmarthouse.core.bundles/org.opensmarthouse.core.model.thing/${project.version}</bundle>
        <bundle>mvn:org.opensmarthouse.core.bundles/org.opensmarthouse.core.model.thing.runtime/${project.version}</bundle>
    </feature>

    <feature name="opensmarthouse-core-model-thing-ide" version="${project.version}">
        <feature dependency="true">opensmarthouse-core-model-thing</feature>

        <requirement>opensmarthouse-tp;filter:="(feature=xtext-ide)"</requirement>
        <feature dependency="true">opensmarthouse-tp-xtext-ide</feature>

        <bundle>mvn:org.opensmarthouse.core.bundles/org.opensmarthouse.core.model.thing.ide/${project.version}</bundle>
    </feature>

    <feature name="opensmarthouse-core-model-lsp" version="${project.version}">
        <requirement>opensmarthouse-tp;filter:="(&amp;(feature=xtext-ide)(version&gt;=2.22.0)(!(version&gt;=2.23.0)))"</requirement>
        <feature dependency="true">opensmarthouse-tp-xtext-ide</feature>

        <!-- fails for no reason
        <requirement>opensmarthouse-tp;filter:="(&amp;(feature=lsp4j)(version&gt;=0.9.0)(!(version&gt;=0.10.0)))"</requirement>
        -->
        <feature dependency="true">opensmarthouse-tp-lsp4j</feature>

        <feature>opensmarthouse-core-model-item-ide</feature>
        <feature>opensmarthouse-core-model-persistence-ide</feature>
        <feature>opensmarthouse-core-model-rule-ide</feature>
        <feature>opensmarthouse-core-model-script-ide</feature>
        <feature>opensmarthouse-core-model-sitemap-ide</feature>
        <feature>opensmarthouse-core-model-thing-ide</feature>
        <bundle>mvn:org.opensmarthouse.core.bundles/org.opensmarthouse.core.model.lsp/${project.version}</bundle>
    </feature>

    <feature name="opensmarthouse-core-storage-json" version="${project.version}">
        <feature dependency="true">opensmarthouse-tp-gson</feature>
        <feature>opensmarthouse-core</feature>
        <feature>opensmarthouse-core-item</feature>

        <bundle>mvn:org.opensmarthouse.core.bundles/org.opensmarthouse.core.storage.json/${project.version}</bundle>
    </feature>

    <feature name="opensmarthouse-core-ui" version="${project.version}">
        <feature>opensmarthouse-core-registry</feature>
        <feature>opensmarthouse-core-config</feature>
        <feature>opensmarthouse-core-library-item</feature>
        <bundle>mvn:org.opensmarthouse.core.bundles/org.opensmarthouse.core.ui/${project.version}</bundle>
    </feature>

    <feature name="opensmarthouse-core-ui-all" version="${project.version}">
        <feature>opensmarthouse-core-ui</feature>
        <feature>opensmarthouse-core-io-http</feature>
        <feature>opensmarthouse-core-io-rest-item</feature>
        <feature>opensmarthouse-core-model-item</feature>
        <feature>opensmarthouse-core-model-sitemap</feature>
        <feature>opensmarthouse-core-persistence</feature>
        <bundle>mvn:org.opensmarthouse.core.bundles/org.opensmarthouse.core.ui.chart/${project.version}</bundle>
        <bundle>mvn:org.opensmarthouse.core.bundles/org.opensmarthouse.core.ui.icon/${project.version}</bundle>
        <bundle>mvn:org.opensmarthouse.core.bundles/org.opensmarthouse.core.ui.proxy/${project.version}</bundle>
        <bundle>mvn:org.opensmarthouse.core.bundles/org.opensmarthouse.core.ui.sitemap/${project.version}</bundle>
        <bundle>mvn:org.opensmarthouse.core.bundles/org.opensmarthouse.core.io.rest.ui/${project.version}</bundle>
    </feature>

    <feature name="opensmarthouse-core-ui-icon" version="${project.version}">
        <feature>opensmarthouse-core-io-rest</feature>
        <feature>opensmarthouse-core-io-http</feature>
        <feature>opensmarthouse-core-config</feature>
        <bundle>mvn:org.opensmarthouse.core.bundles/org.opensmarthouse.core.ui.icon/${project.version}</bundle>
    </feature>

    <feature name="opensmarthouse-core-ui-sitemap" version="${project.version}">
        <feature>opensmarthouse-core-ui</feature>
        <feature>opensmarthouse-core-registry</feature>
        <feature>opensmarthouse-core-transform</feature>
        <feature>opensmarthouse-core-io-http</feature>
        <feature>opensmarthouse-core-model-item</feature>
        <feature>opensmarthouse-core-model-sitemap</feature>
        <bundle>mvn:org.opensmarthouse.core.bundles/org.opensmarthouse.core.ui.sitemap/${project.version}</bundle>
    </feature>

    <feature name="opensmarthouse-runtime-base" description="Open SmartHouse Runtime Base" version="${project.version}">
        <bundle>mvn:com.google.guava/guava/18.0</bundle>
        <requirement>opensmarthouse-tp;filter:="(feature=commons-net)"</requirement>
        <feature dependency="true">opensmarthouse-tp-commons-net</feature>
        <feature>opensmarthouse-core-base</feature>
        <feature>opensmarthouse-core-auth-jaas</feature>
        <feature>opensmarthouse-core-ephemeris</feature>
        <feature>opensmarthouse-core-io-console-karaf</feature>
        <feature>opensmarthouse-core-io-http</feature>
        <feature>opensmarthouse-core-io-http-auth</feature>
        <feature>opensmarthouse-core-io-rest-auth</feature>
        <feature>opensmarthouse-core-io-rest-audio</feature>
        <feature>opensmarthouse-core-io-rest-extension</feature>
        <feature>opensmarthouse-core-io-rest-sitemap</feature>
        <feature>opensmarthouse-core-io-rest-voice</feature>
        <feature>opensmarthouse-core-io-rest-mdns</feature>
        <feature>opensmarthouse-core-model-lsp</feature>
        <feature>opensmarthouse-core-model-item</feature>
        <feature>opensmarthouse-core-model-persistence</feature>
        <feature>opensmarthouse-core-model-rule</feature>
        <feature>opensmarthouse-core-model-script</feature>
        <feature>opensmarthouse-core-model-sitemap</feature>
        <feature>opensmarthouse-core-model-thing</feature>
        <feature>opensmarthouse-core-ui</feature>
        <feature>opensmarthouse-core-ui-icon</feature>
        <feature>opensmarthouse-core-storage-json</feature>
        <feature>opensmarthouse-runtime-certificate</feature>
        <feature>opensmarthouse-transport-mdns</feature>
        <feature>opensmarthouse-transport-http</feature>

        <feature>opensmarthouse-core</feature>

        <!-- This bundle needs to be started early as it registers the 404 and startup pages on Jetty -->
        <!-- It is temperarily disabled due to https://github.com/opensmarthouse/opensmarthouse-core/issues/422 -->
        <!-- <bundle start-level="30">mvn:org.opensmarthouse.core.bundles/org.opensmarthouse.ui.start/${project.version}</bundle> -->

        <feature>opensmarthouse-runtime-karaf</feature>
        <feature>opensmarthouse-core-io-rest-core</feature>
    </feature>

    <feature name="openhab-runtime-base">
        <feature>opensmarthouse-runtime-base</feature>
    </feature>

    <feature name="opensmarthouse-core" version="${project.version}">
        <bundle start-level="90">mvn:org.opensmarthouse.core.bundles/org.opensmarthouse.core/${project.version}</bundle>
        <feature>opensmarthouse-core-config</feature>
    </feature>

    <feature name="opensmarthouse-runtime-karaf" version="${project.version}">
        <feature prerequisite="true">shell</feature>
        <feature prerequisite="true">wrapper</feature>
        <feature prerequisite="true">jaas</feature>
        <feature>opensmarthouse-core</feature>
        <feature>opensmarthouse-core-extension</feature>
        <feature>opensmarthouse-core-auth</feature>
        <bundle>mvn:org.opensmarthouse.core.bundles/org.opensmarthouse.core.karaf/${project.version}</bundle>
    </feature>

    <feature name="opensmarthouse-core-extension" version="${project.version}">
        <feature>opensmarthouse-core-event</feature>
        <bundle>mvn:org.opensmarthouse.core.bundles/org.opensmarthouse.core.extension/${project.version}</bundle>
    </feature>

    <feature name="opensmarthouse-core-io-rest-extension" version="${project.version}">
        <feature>opensmarthouse-core-io-rest</feature>
        <feature>opensmarthouse-core-extension</feature>
        <feature>opensmarthouse-core-common</feature>
        <bundle>mvn:org.opensmarthouse.core.bundles/org.opensmarthouse.core.io.rest.extension/${project.version}</bundle>
    </feature>


    <feature name="opensmarthouse-runtime-certificate" description="SSL Certificate Generator" version="${project.version}">
        <bundle start-level="20">mvn:org.opensmarthouse.core.bundles/org.opensmarthouse.core.io.jetty.certificate/${project.version}</bundle>
    </feature>

    <feature name="opensmarthouse-runtime-jna" description="Java Native Access (JNA)" version="${project.version}">
        <bundle>mvn:net.java.dev.jna/jna/${jna.version}</bundle>
        <bundle>mvn:net.java.dev.jna/jna-platform/${jna.version}</bundle>
    </feature>

    <feature name="opensmarthouse-transport-coap" description="CoAP Transport" version="${project.version}">
        <feature>opensmarthouse-core-io-transport-coap</feature>
    </feature>

    <feature name="opensmarthouse-transport-http" description="HTTP Transport" version="${project.version}">
        <capability>opensmarthouse-tp;feature=httpclient;version=${jetty.version}</capability>
        <feature>opensmarthouse-core-auth-oauth2client</feature>
        <bundle dependency="true">mvn:javax.servlet/javax.servlet-api/3.1.0</bundle>
        <bundle dependency="true">mvn:org.eclipse.jetty/jetty-client/${jetty.version}</bundle>
        <bundle dependency="true">mvn:org.eclipse.jetty/jetty-http/${jetty.version}</bundle>
        <bundle dependency="true">mvn:org.eclipse.jetty/jetty-util/${jetty.version}</bundle>
        <bundle dependency="true">mvn:org.eclipse.jetty/jetty-io/${jetty.version}</bundle>
        <bundle dependency="true">mvn:org.eclipse.jetty/jetty-proxy/${jetty.version}</bundle>
        <bundle dependency="true">mvn:org.eclipse.jetty.websocket/websocket-api/${jetty.version}</bundle>
        <bundle dependency="true">mvn:org.eclipse.jetty.websocket/websocket-common/${jetty.version}</bundle>
        <bundle dependency="true">mvn:org.eclipse.jetty.websocket/websocket-client/${jetty.version}</bundle>
    </feature>

    <feature name="opensmarthouse-transport-mdns" description="mDNS Transport" version="${project.version}">
        <feature>opensmarthouse-core-io-transport-mdns</feature>
    </feature>

    <feature name="opensmarthouse-transport-mqtt" description="MQTT Transport" version="${project.version}">
        <feature>opensmarthouse-core-io-transport-mqtt</feature>
    </feature>

    <feature name="opensmarthouse-transport-serial" description="Serial Transport" version="${project.version}">
        <feature>opensmarthouse-core-io-transport-serial-rfc2217</feature>
        <feature>opensmarthouse-core-config-serial</feature>
        <feature>opensmarthouse-core-config-discovery-usbserial</feature>
    </feature>

    <feature name="opensmarthouse-transport-upnp" description="UPnP Transport" version="${project.version}">
        <feature>opensmarthouse-core-io-transport-upnp</feature>
    </feature>

    <feature name="opensmarthouse-core-thing-xml" description="Thing Core XML" version="${project.version}">
        <feature dependency="true">opensmarthouse-tp-xstream</feature>
        <feature>opensmarthouse-core-thing</feature>
        <feature>opensmarthouse-core-config-xml</feature>
        <bundle start-level="75">mvn:org.opensmarthouse.core.bundles/org.opensmarthouse.core.thing.xml/${project.version}</bundle>
    </feature>

    <feature name="opensmarthouse-core-thing-console" description="Thing Console" version="${project.version}">
        <feature>opensmarthouse-core-thing</feature>
        <feature>opensmarthouse-core-io-console</feature>
        <bundle>mvn:org.opensmarthouse.core.bundles/org.opensmarthouse.core.thing.console/${project.version}</bundle>
    </feature>

    <feature name="opensmarthouse-core-io-rest-thing" version="${project.version}">
        <feature>opensmarthouse-core-thing</feature>
        <feature>opensmarthouse-core-io-rest</feature>
        <bundle>mvn:org.opensmarthouse.core.bundles/org.opensmarthouse.core.io.rest.thing/${project.version}</bundle>
    </feature>

    <feature name="opensmarthouse-core-item-core" description="Item Core" version="${project.version}">
        <feature>opensmarthouse-core-item</feature>
        <feature>opensmarthouse-core-library-item</feature>
        <bundle>mvn:org.opensmarthouse.core.bundles/org.opensmarthouse.core.item.core/${project.version}</bundle>
    </feature>

    <feature name="opensmarthouse-core-binding" version="${project.version}">
        <feature>opensmarthouse-core-registry</feature>
        <feature>opensmarthouse-core-i18n</feature>
        <bundle>mvn:org.opensmarthouse.core.bundles/org.opensmarthouse.core.binding/${project.version}</bundle>
    </feature>

    <feature name="opensmarthouse-core-binding-xml" version="${project.version}">
        <feature dependency="true">opensmarthouse-tp-xstream</feature>
        <feature>opensmarthouse-core-binding</feature>
        <feature>opensmarthouse-core-config-xml</feature>
        <bundle>mvn:org.opensmarthouse.core.bundles/org.opensmarthouse.core.binding.xml/${project.version}</bundle>
    </feature>

    <feature name="opensmarthouse-core-io-rest-binding" version="${project.version}">
        <feature>opensmarthouse-core-io-rest</feature>
        <feature>opensmarthouse-core-io-rest-config</feature>
        <feature>opensmarthouse-core-binding</feature>
        <feature>opensmarthouse-core-config</feature>
        <bundle>mvn:org.opensmarthouse.core.bundles/org.opensmarthouse.core.io.rest.binding/${project.version}</bundle>
    </feature>

    <feature name="opensmarthouse-core-io-rest-channel" version="${project.version}">
        <feature>opensmarthouse-core-io-rest-thing</feature>
        <bundle>mvn:org.opensmarthouse.core.bundles/org.opensmarthouse.core.io.rest.channel/${project.version}</bundle>
    </feature>

    <feature name="opensmarthouse-core-io-rest-config" version="${project.version}">
        <feature>opensmarthouse-core-io-rest</feature>
        <feature>opensmarthouse-core-config</feature>
        <bundle>mvn:org.opensmarthouse.core.bundles/org.opensmarthouse.core.io.rest.config/${project.version}</bundle>
    </feature>

    <feature name="opensmarthouse-core-io-rest-discovery" version="${project.version}">
        <feature>opensmarthouse-core-io-rest</feature>
        <feature>opensmarthouse-core-config-discovery</feature>
        <bundle>mvn:org.opensmarthouse.core.bundles/org.opensmarthouse.core.io.rest.discovery/${project.version}</bundle>
    </feature>

    <feature name="opensmarthouse-core-io-rest-persistence" version="${project.version}">
        <feature>opensmarthouse-core-io-rest</feature>
        <feature>opensmarthouse-core-persistence</feature>
        <bundle>mvn:org.opensmarthouse.core.bundles/org.opensmarthouse.core.io.rest.persistence/${project.version}</bundle>
    </feature>

    <feature name="opensmarthouse-core-io-rest-service" version="${project.version}">
        <!-- FIXME consider to merge both back together -->
        <feature>opensmarthouse-core-io-rest-config</feature>
        <bundle>mvn:org.opensmarthouse.core.bundles/org.opensmarthouse.core.io.rest.service/${project.version}</bundle>
    </feature>

    <feature name="opensmarthouse-core-io-rest-ui" version="${project.version}">
        <feature>opensmarthouse-core-io-rest</feature>
        <feature>opensmarthouse-core-ui</feature>
        <bundle>mvn:org.opensmarthouse.core.bundles/org.opensmarthouse.core.io.rest.ui/${project.version}</bundle>
    </feature>

    <feature name="opensmarthouse-core-type-core" version="${project.version}">
        <feature>opensmarthouse-core-type</feature>
        <bundle>mvn:org.opensmarthouse.core.bundles/org.opensmarthouse.core.type.core/${project.version}</bundle>
    </feature>

    <feature name="opensmarthouse-core-io-rest-swagger" version="${project.version}">
        <feature>opensmarthouse-tp-swagger-jax-rs</feature>
        <feature>opensmarthouse-core-io-rest</feature>
        <bundle>mvn:org.opensmarthouse.core.bundles/org.opensmarthouse.core.io.rest.swagger/${project.version}</bundle>
    </feature>

</features>
